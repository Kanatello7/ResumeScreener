{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Change Password</title>
    <link rel="stylesheet" href="{% static 'css/password_change_form.css' %}">
</head>
<body>
    <div class="container">
        <!-- Back Link -->
        <a href="{% url 'dashboard' %}" class="backLink">‚Üê Back to Dashboard</a>

        <!-- Form Wrapper -->
        <div class="formWrapper">
            <h2 class="formTitle">Change Password</h2>
            <form id="changePasswordForm" class="form" method="post">
              {% csrf_token %}
          
              <!-- Display non-field errors (form-wide errors) -->
              {% if form.non_field_errors %}
                  <div class="formErrors">
                      {% for error in form.non_field_errors %}
                          <div class="error">{{ error }}</div>
                      {% endfor %}
                  </div>
              {% endif %}
          
              <!-- Current Password Field -->
              <label for="old_password">Current Password</label>
              <div class="inputField">
                  <span class="icon">üîí</span>
                  <input type="password" id="old_password" name="old_password" placeholder="Enter current password" required>
              </div>
              <!-- Display errors for old_password field -->
              {% if form.old_password.errors %}
                  <div class="fieldErrors">
                      {% for error in form.old_password.errors %}
                          <div class="error">{{ error }}</div>
                      {% endfor %}
                  </div>
              {% endif %}
          
              <!-- New Password Field -->
              <label for="new_password1">New Password</label>
              <div class="inputField">
                  <span class="icon">üîí</span>
                  <input type="password" id="new_password1" name="new_password1" placeholder="Enter new password" required>
              </div>
              <!-- Display errors for new_password1 field -->
              {% if form.new_password1.errors %}
                  <div class="fieldErrors">
                      {% for error in form.new_password1.errors %}
                          <div class="error">{{ error }}</div>
                      {% endfor %}
                  </div>
              {% endif %}
          
              <!-- Confirm New Password Field -->
              <label for="new_password2">Confirm New Password</label>
              <div class="inputField">
                  <span class="icon">üîí</span>
                  <input type="password" id="new_password2" name="new_password2" placeholder="Confirm new password" required>
              </div>
              <!-- Display errors for new_password2 field -->
              {% if form.new_password2.errors %}
                  <div class="fieldErrors">
                      {% for error in form.new_password2.errors %}
                          <div class="error">{{ error }}</div>
                      {% endfor %}
                  </div>
              {% endif %}
          
              <button type="submit" class="saveBtn">üíæ Save Changes</button>
          </form>
        </div>
    </div>
</body>
</html>
